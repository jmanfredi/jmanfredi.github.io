---
title: 'The impact of social distancing'
date: 2020-03-17
permalink: /posts/2020/03/corona/
excerpt: "I can go the social distance"
tags:
  - agent-based modeling
  - data visualization
---

"Whatâ€™s true of all the evils in the world is true of plague as well. It helps men to rise above themselves."
Albert Camus, The Plague

Unless you have been [rafting through the Grand Canyon](https://www.nytimes.com/2020/03/17/opinion/coronavirus-news.html) for the past three weeks, you are by now intimately familiar with the COVID-19 epidemic rampaging across the world. Nobody knows how much higher the infection numbers will climb, or how much longer preventative measures will be necessary. 

Our new reality has brought with it a fresh set of buzzwords, like "social distancing" and "reproductive number". You hear a lot about the importance of trying to "flatten the curve". This means that if we can slow down the spread of COVID-19, then we can prevent our medical infrastructure from being overrun. An average hospital can easily treat 1000 patients a month, but not 1000 a day. Here is a useful picture from The Economist:

![economist](/images/for-posts/corona/flattencurve.png){:class="img-responsive"}
*Source: [The world gets ready](https://www.economist.com/briefing/2020/02/29/covid-19-is-now-in-50-countries-and-things-will-get-worse), The Economist.* 

If the curve is flattened out in time enough, then we'll be able to properly treat the sick. At least, that's the idea. But does it work? As we get used to our new socially distanced lives, let's try something to find out.

Make imaginary friends and give them coronavirus
======

[Agent-based modeling](https://en.wikipedia.org/wiki/Agent-based_model), in which we simulate a bunch of pretend people moving around a grid and occasionally pretend interacting with each other. People, in this case, are represented by dots. Here is a happy and healthy community of dots, going about their daily activities:

*Note: as I was putting this post together, I found [an excellent article in the Washington Post](https://www.washingtonpost.com/graphics/2020/world/corona-simulator/?itid=sf_) in which they use agent-based modeling to study coronavirus. I recommend taking a look.*

Here is a simple example. Two dots. The blue one is a normal, healthy person, and the red one is carrying the COVID-19 virus. They each move around in a random direction, and when they share the same cell they interact. Almost like they are shaking hands with each other and talking about this weather we've been having. This gives a chance for the COVID-19 dot to pass the virus along to the healthy dot. Then both dots go about their merry lives, until either they get over it and become cured (green) or, about 3% of the time, they die (and vanish off the screen). I am assuming that once somebody gets COVID-19 and is cured of it, they are immune to getting it again.

SIMPLE

Okay, let's add some more dots. Here you can see more clearly the dynamics of the disease spreading through the population. One carrier at the start quickly becomes an ever-growing cluster of red, and that ends up infecting almost all the dots at one point in time or another. Those dots either become green to indicate that they are cured, or they die and disappear. 

BIG

That red line going up and down indicates the number of active carriers at any given time in the simulation. THAT is the curve that we are trying to "flatten". Does social distancing really work to do this? We can test it out. 

SOCIAL DISTANCING RESULTS

"Yes, okay, whatever", I hear you saying, "but I'm not sick! Why should I care?". Well, reader, the reason you should care is that most cases of COVID-19 present asymptomatically. Although you most likely aren't infected, you could be. And even if [you feel great](https://www.nba.com/article/2020/03/16/donovan-mitchell-interview-says-asymptomatic), you could pass on the disease to a relative, coworker, or passerby that is not as lucky. 



Obviously, this is just a toy model and no quantitative results from it should be taken seriously. But what should be taken seriously is that social distancing is an effective means to slow down the spread of COVID-19. Even if you feel healthy, stay home.

Technical Notes


 [an Op-Ed by David Leonhardt](https://www.nytimes.com/interactive/2019/10/06/opinion/income-tax-rate-wealthy.html)

![original-nyt](/images/for-posts/leonhardt-screencap.png){:class="img-responsive"}
*Source: The Rich Really Do Pay Lower Taxes Than You, David Leonhardt, New York Times.* 

1) The quantities being plotted are not all clearly defined.
======

2) The axes are misleading.
======


![tax-rate-gif](/images/for-posts/tax-rate.gif)

Presenting data is hard
======


Technical Details
------
Code used for gathering data, analysis, and plot generation can be found [here](https://github.com/jmanfredi/corona). I used [Mesa](https://mesa.readthedocs.io/en/master/index.html) for the agent-based modeling (ABM), and for the most part thought it was good. It lacks in complexity and I wish there was an easy way to set an end condition (i.e. end the simulation when there are no more carriers left). Still, it is straightforward to use and the visualization works well.

There are some paramaters in the ABM code which are in principle tunable. The disease lasts for a fixed length of 14 days. Anybody The probability that a dot dies on a given step is 0.22%. I set this value so that over the course of a 14-day illnesss roughly 3% of the dots end up dead, since this is about what the overall case fatality rate is expected to be for COVID-19:
\\(
(1 - p)^14 = 0.97
\\)
where \\( p \\) is the probability that a dot dies on a given step. 


